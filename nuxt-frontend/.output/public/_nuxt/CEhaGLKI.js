import{f as B,r as v,h as n,g as I,c as r,K as P,H as A,a as e,i as D,t as l,d as m,M as y,o as i,_ as H}from"./EcDhdyxl.js";import{R as V}from"./C0puMdAJ.js";const G={key:1,class:"pay-success-modal"},O={class:"success-header"},j={class:"success-desc"},E={class:"success-info"},K={class:"info-row"},Y={class:"info-value info-link"},q={class:"info-row"},z={class:"info-value info-amount"},J={class:"info-row"},L={class:"info-value info-paytype"},Q={class:"info-row"},U={class:"info-value info-time"},W={class:"success-actions"},X=B({__name:"PaySuccessModal",props:{orderId:{type:String,default:"N/A"},payType:{type:String,default:"balance"},amount:{type:[String,Number],default:0},productName:{type:String,default:""},productType:{type:String,default:""}},emits:["close"],setup(f,{emit:g}){const t=f,c=g,a=v(!1),d=v(!1),u=n(()=>{var o,s;return t.productType==="recharge"||((o=t.productName)==null?void 0:o.includes("ä»£å……"))||((s=t.productName)==null?void 0:s.includes("å……å€¼"))});I(()=>{u.value&&!d.value&&setTimeout(()=>{a.value=!0},1500)});const p=n(()=>t.orderId||"N/A"),S=n(()=>{try{const o=typeof t.amount=="string"?parseFloat(t.amount||"0"):t.amount||0;return isNaN(o)?"0.00":o.toFixed(2)}catch{return"0.00"}}),h=n(()=>({alipay:"æ”¯ä»˜å®æ”¯ä»˜",balance:"ä½™é¢æ”¯ä»˜",other:"å…¶ä»–æ”¯ä»˜"})[t.payType]||"æœªçŸ¥æ”¯ä»˜æ–¹å¼"),k=n(()=>{try{const o=new Date,s=o.getFullYear(),C=String(o.getMonth()+1).padStart(2,"0"),x=String(o.getDate()).padStart(2,"0"),R=String(o.getHours()).padStart(2,"0"),F=String(o.getMinutes()).padStart(2,"0"),$=String(o.getSeconds()).padStart(2,"0");return`${s}-${C}-${x} ${R}:${F}:${$}`}catch{return"è·å–æ—¶é—´å¤±è´¥"}}),N=()=>{a.value||c("close")},w=()=>{console.log("ç‚¹å‡»è¿”å›é¦–é¡µ"),c("close");try{y("/")}catch(o){console.error("è·³è½¬é¦–é¡µå¤±è´¥:",o),window.location.href="/"}},b=()=>{console.log("ç‚¹å‡»æŸ¥çœ‹è®¢å•"),c("close");try{y("/profile/orders")}catch(o){console.error("è·³è½¬è®¢å•é¡µå¤±è´¥:",o),window.location.href="/profile/orders"}},_=()=>{a.value=!0},M=()=>{a.value=!1},T=()=>{d.value=!0,a.value=!1};return(o,s)=>(i(),r("div",{class:"modal-mask",onClick:P(N,["self"])},[a.value?(i(),A(V,{key:0,orderNo:p.value,productName:f.productName,onClose:M,onSuccess:T},null,8,["orderNo","productName"])):(i(),r("div",G,[e("div",O,[s[0]||(s[0]=D('<div class="success-circle" data-v-704f18f0><svg width="80" height="80" viewBox="0 0 96 96" fill="none" data-v-704f18f0><circle cx="48" cy="48" r="48" fill="#fff" data-v-704f18f0></circle><path d="M30 50l14 14 22-28" stroke="#2196F3" stroke-width="7" stroke-linecap="round" stroke-linejoin="round" data-v-704f18f0></path></svg></div><div class="success-title" data-v-704f18f0>æ”¯ä»˜æˆåŠŸï¼</div>',2)),e("div",j,l(u.value?"è¯·å¡«å†™å›æ‰§ä¿¡æ¯ä»¥å®Œæˆè®¢å•":"æ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼Œè®¢å•å·²å¤„ç†å®Œæˆ"),1)]),e("div",E,[e("div",K,[s[1]||(s[1]=e("span",{class:"info-label"},"è®¢å•ç¼–å·",-1)),e("span",Y,"#"+l(p.value),1)]),s[5]||(s[5]=e("div",{class:"info-divider"},null,-1)),e("div",q,[s[2]||(s[2]=e("span",{class:"info-label"},"æ”¯ä»˜é‡‘é¢",-1)),e("span",z,"ï¿¥"+l(S.value),1)]),s[6]||(s[6]=e("div",{class:"info-divider"},null,-1)),e("div",J,[s[3]||(s[3]=e("span",{class:"info-label"},"æ”¯ä»˜æ–¹å¼",-1)),e("span",L,l(h.value),1)]),s[7]||(s[7]=e("div",{class:"info-divider"},null,-1)),e("div",Q,[s[4]||(s[4]=e("span",{class:"info-label"},"æ”¯ä»˜æ—¶é—´",-1)),e("span",U,l(k.value),1)]),s[8]||(s[8]=e("div",{class:"info-divider"},null,-1)),s[9]||(s[9]=e("div",{class:"info-row"},[e("span",{class:"info-label"},"è®¢å•çŠ¶æ€"),e("span",{class:"info-value info-status"},"å·²æ”¯ä»˜ï¼Œå•†å“ä¿¡æ¯å·²å‘é€é‚®ç®±")],-1))]),e("div",W,[u.value&&!d.value?(i(),r("button",{key:0,class:"order-btn",onClick:_}," å¡«å†™å›æ‰§å• ")):(i(),r("button",{key:1,class:"order-btn",onClick:b}," å‰å¾€æŸ¥çœ‹è®¢å• ")),e("button",{class:"home-btn",onClick:w}," è¿”å›é¦–é¡µ ")]),s[10]||(s[10]=e("div",{class:"success-tip"},[m(" ğŸ“§ è®¢å•è¯¦æƒ…å’Œå•†å“ä¿¡æ¯å·²å‘é€åˆ°æ‚¨çš„é‚®ç®±ï¼Œè¯·æ³¨æ„æŸ¥æ”¶ "),e("br"),m("å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœ "),e("span",{class:"kefu-phone"},"400-123-4567")],-1))]))]))}}),es=H(X,[["__scopeId","data-v-704f18f0"]]);export{es as P};
