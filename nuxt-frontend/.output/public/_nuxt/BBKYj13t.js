import{_ as N,a as $}from"./BKRz7CiX.js";import{f as L,G as w,r,h as B,g as S,P as T,c as i,b as u,a as t,F as p,l as m,d as v,z as h,N as z,o as l,I as D,n as I,m as M,t as n,H as P,w as V,e as H,_ as E}from"./EcDhdyxl.js";import{A as R}from"./BSg4oUVu.js";import{u as G}from"./Bc9UkeLm.js";import"./Dw_Z4xcU.js";const K={class:"community-page"},O={class:"page-content"},j={class:"category-tags"},q=["title","onClick"],J={class:"tag-icon"},Q={key:0,class:"reset-hint"},U={class:"articles-grid"},W={class:"article-image"},X=["src","alt"],Y={class:"article-content"},Z={class:"article-title"},ee={class:"article-description"},te={class:"article-meta"},se={class:"article-date"},oe={class:"article-author"},ae={class:"author-avatar"},ne={class:"author-name"},le=L({__name:"community",setup(ce){const _=w(),o=r("all"),y=[{key:"设备评测",label:"设备评测",icon:"🏠",color:"#FF7A7A"},{key:"教程指南",label:"教程指南",icon:"📝",color:"#4CAF50"},{key:"家居影院",label:"家居影院",icon:"🔧",color:"#2196F3"},{key:"流媒体",label:"流媒体",icon:"📱",color:"#FF9800"},{key:"技术文章",label:"技术文章",icon:"🔒",color:"#9C27B0"}],c=r([]),d=r(!1),f=async()=>{d.value=!0;try{const a=await $fetch(R.articles.list,{params:{status:"published",limit:20}});a.success&&(c.value=a.data.articles.map(s=>({id:s.id,title:s.title,description:s.description||s.subtitle||"",image:s.image||"/images/help1.png",date:s.publish_date?new Date(s.publish_date).toLocaleDateString("zh-CN"):"2023年6月20日",category:s.category,author:{avatar:s.author_avatar||"👨‍💻",name:s.author_name||"管理员"}})))}catch(a){console.error("获取文章失败:",a),c.value=[{id:1,title:"电视盒子看奈飞4K完整教程：解锁高清流媒体体验",description:"教你如何选择合适的电视盒子，安装奈飞App解码4K画质，解决播放卡顿问题...",image:"/images/help1.png",date:"2023年6月20日",category:"教程指南",author:{avatar:"👨‍💻",name:"张科技"}}]}finally{d.value=!1}},b=B(()=>o.value==="all"?c.value:c.value.filter(a=>a.category===o.value));S(()=>{f()});const k=a=>{o.value===a?o.value="all":o.value=a};T();const g=()=>{};return G({title:"社区帮助 - 凡图拉",meta:[{name:"description",content:"凡图拉社区帮助中心，为您提供全面的使用指南和客服支持。"}]}),(a,s)=>{const x=N,A=H,C=$,F=z;return l(),i("div",K,[u(x),t("div",O,[t("div",j,[(l(),i(p,null,m(y,e=>t("button",{key:e.key,class:I(["tag-btn",{active:o.value===e.key&&o.value!=="all"}]),style:D({background:o.value===e.key?e.color:"#fff",color:o.value===e.key?"#fff":e.color,border:`1.5px solid ${e.color}`}),title:o.value===e.key&&o.value!=="all"?"再次点击返回所有文章":`查看${e.label}分类文章`,onClick:ie=>k(e.key)},[t("span",J,n(e.icon),1),v(" "+n(e.label)+" ",1),o.value===e.key&&o.value!=="all"?(l(),i("span",Q,"×")):M("",!0)],14,q)),64))]),t("div",U,[(l(!0),i(p,null,m(b.value,e=>(l(),P(A,{key:e.id,to:`/article/${e.id}`,class:"article-card"},{default:V(()=>[t("div",W,[t("img",{src:e.image,alt:e.title},null,8,X)]),t("div",Y,[t("h3",Z,n(e.title),1),t("p",ee,n(e.description),1),t("div",te,[t("span",se,n(e.date),1),t("div",oe,[t("span",ae,n(e.author.avatar),1),t("span",ne,n(e.author.name),1)])])])]),_:2},1032,["to"]))),128))]),t("div",{class:"publish-section"},[t("button",{class:"publish-btn",onClick:g},s[1]||(s[1]=[t("span",{class:"publish-icon"},"+",-1),v(" 发布文章 ")]))])]),u(C),u(F,{visible:h(_).showLogin,onClose:s[0]||(s[0]=e=>h(_).closeLogin())},null,8,["visible"])])}}}),me=E(le,[["__scopeId","data-v-20a289c6"]]);export{me as default};
