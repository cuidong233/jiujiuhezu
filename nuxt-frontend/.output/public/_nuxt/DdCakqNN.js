import{p as c,f as x,r as p,c as d,a as s,i as h,j as w,d as n,v as $,F as _,l as y,o,n as g,t as v,_ as C,g as T,h as q,H as M,m as b,O as B}from"./EcDhdyxl.js";const N=c("/images/shenqing1.png"),D=c("/images/shenqing2.png"),V=c("/images/netflix.png"),A=c("/images/shenqing3.png"),I=c("/images/shenqing4.png"),F=c("/images/shenqing5.png"),G=c("/images/shenqing6.png"),P=c("/images/shenqing7.png"),U={class:"modal-mask"},j={class:"ticket-apply-modal"},O={class:"modal-header"},S={class:"modal-content"},Z={class:"modal-right"},z={class:"form-group"},E={class:"form-group"},H={class:"priority-group"},J=["onClick"],R={class:"form-group"},K={class:"modal-actions"},Q=x({__name:"TicketApplyModal",setup(L){const f=p(""),r=p("中"),m=p(""),u=[{label:"低",value:"低"},{label:"中",value:"中"},{label:"高",value:"高"}];return(k,t)=>(o(),d("div",U,[s("div",j,[s("div",O,[t[4]||(t[4]=s("div",{class:"modal-title"},"申请工单",-1)),t[5]||(t[5]=s("div",{class:"modal-subtitle"},"请填写工单申请信息，我们将尽快为您处理",-1)),s("button",{class:"modal-close",onClick:t[0]||(t[0]=e=>k.$emit("close"))},"×")]),s("div",S,[t[10]||(t[10]=h('<div class="modal-left" data-v-4a395f83><div class="order-info-title with-icon" data-v-4a395f83><img class="section-icon" src="'+N+'" alt="关联系统信息" data-v-4a395f83> 关联系统信息 </div><div class="order-info-row" data-v-4a395f83><span class="order-label" data-v-4a395f83>订单编号：</span><span class="order-link" data-v-4a395f83>#O202306201234</span></div><div class="order-info-row" data-v-4a395f83><span class="order-label" data-v-4a395f83>下单时间：</span><span class="order-value" data-v-4a395f83>2023-06-20 14:30</span></div><div class="order-info-row" data-v-4a395f83><span class="order-label" data-v-4a395f83>订单状态：</span><span class="order-status" data-v-4a395f83>已发货</span></div><div class="order-info-row" data-v-4a395f83><span class="order-label" data-v-4a395f83>支付金额：</span><span class="order-amount" data-v-4a395f83>￥899.00</span></div><div class="order-info-title with-icon" data-v-4a395f83><img class="section-icon" src="'+D+'" alt="关联商品" data-v-4a395f83> 关联商品 </div><div class="product-card" data-v-4a395f83><img class="product-img" src="'+V+'" alt="Netflix" data-v-4a395f83><div class="product-info" data-v-4a395f83><div class="product-name" data-v-4a395f83>Netflix月付版</div><div class="product-price" data-v-4a395f83>￥899.00</div></div></div></div>',1)),s("div",Z,[s("div",z,[t[6]||(t[6]=s("label",{class:"form-label with-icon"},[s("img",{class:"section-icon",src:A,alt:"问题类型"}),n(" 问题类型"),s("span",{class:"required"},"*")],-1)),w(s("input",{class:"form-input","onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),placeholder:""},null,512),[[$,f.value]])]),s("div",E,[t[7]||(t[7]=s("label",{class:"form-label with-icon"},[s("img",{class:"section-icon",src:I,alt:"问题优先级"}),n(" 问题优先级"),s("span",{class:"required"},"*")],-1)),s("div",H,[(o(),d(_,null,y(u,e=>s("button",{key:e.value,class:g(["priority-btn",{active:r.value===e.value}]),onClick:l=>r.value=e.value,type:"button"},v(e.label),11,J)),64))])]),s("div",R,[t[8]||(t[8]=s("label",{class:"form-label with-icon"},[s("img",{class:"section-icon",src:F,alt:"问题描述"}),n(" 问题描述"),s("span",{class:"required"},"*")],-1)),w(s("textarea",{class:"form-textarea","onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),rows:"4",placeholder:"请详细描述您遇到的问题，包括错误信息、操作步骤等……"},null,512),[[$,m.value]])]),t[9]||(t[9]=h('<div class="form-group" data-v-4a395f83><label class="form-label with-icon" data-v-4a395f83><img class="section-icon" src="'+G+'" alt="添加附件" data-v-4a395f83> 添加附件 </label><div class="upload-box" data-v-4a395f83><img class="upload-arrow" src="'+P+'" alt="上传" data-v-4a395f83><div class="upload-tip" data-v-4a395f83>点击或拖拽文件到此处上传</div><div class="upload-desc" data-v-4a395f83>支持 JPG, PNG, GIF 格式，单个文件不超过5MB</div></div></div>',1))])]),s("div",K,[s("button",{class:"btn-cancel",onClick:t[3]||(t[3]=e=>k.$emit("close"))},t[11]||(t[11]=[s("svg",{class:"btn-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[s("circle",{cx:"10",cy:"10",r:"10",fill:"#D9D9D9"}),s("path",{d:"M7.5 7.5L12.5 12.5M12.5 7.5L7.5 12.5",stroke:"#888","stroke-width":"1.5","stroke-linecap":"round"})],-1),n(" 取消 ")])),t[12]||(t[12]=s("button",{class:"btn-confirm"},[s("svg",{class:"btn-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[s("path",{d:"M3 10L17 3L10 17L9 11L3 10Z",fill:"#fff"}),s("path",{d:"M3 10L17 3L10 17L9 11L3 10Z",stroke:"#fff","stroke-width":"1.5","stroke-linejoin":"round"})]),n(" 提交工单 ")],-1))])])]))}}),W=C(Q,[["__scopeId","data-v-4a395f83"]]),X={class:"tickets-section"},Y={class:"section-header"},ss={class:"tickets-tabs"},ts=["onClick"],as={class:"tickets-list"},es={class:"ticket-header-section"},is={class:"ticket-id"},ls={class:"ticket-content-section"},os={class:"ticket-main-content"},ns={class:"ticket-content"},ds={class:"ticket-meta"},cs={class:"meta-item"},rs={class:"meta-item"},vs={class:"order-link"},ps={class:"ticket-actions-right"},us={key:0,class:"action-btn-small add-reply"},fs={key:1,class:"action-btn-small add-reply"},ms=x({__name:"tickets",setup(L){const f=[{key:"all",label:"全部工单"},{key:"processing",label:"进行中"},{key:"resolved",label:"已解决"}],r=p("all"),m=l=>{r.value=l},u=p([]);T(async()=>{const l=await B.get("/work/list");l&&l.data&&(u.value=l.data)});const t=q(()=>r.value==="all"?u.value:u.value.filter(l=>l.status===r.value)),e=p(!1);return(l,i)=>(o(),d(_,null,[s("div",X,[s("div",Y,[i[2]||(i[2]=s("h2",{class:"section-title"},"我的工单",-1)),s("button",{class:"apply-btn",onClick:i[0]||(i[0]=a=>e.value=!0)},"+ 申请工单")]),s("div",ss,[(o(),d(_,null,y(f,a=>s("div",{key:a.key,class:g(["tab-item",{active:r.value===a.key}]),onClick:_s=>m(a.key)},v(a.label),11,ts)),64))]),s("div",as,[(o(!0),d(_,null,y(t.value,a=>(o(),d("div",{class:g(["ticket-card",a.statusClass]),key:a.id},[s("div",es,[s("span",is,"工单 #"+v(a.id),1),s("div",{class:g(["ticket-status-circle",a.statusClass])},v(a.statusText),3)]),s("div",ls,[s("div",os,[s("div",ns,v(a.content),1),s("div",ds,[s("div",cs,"提交时间："+v(a.time),1),s("div",rs,[i[3]||(i[3]=n("关联订单：")),s("span",vs,"#"+v(a.orderId),1)])])]),s("div",ps,[i[6]||(i[6]=s("button",{class:"action-btn-small view-detail"},[s("i",{class:"icon-view"}),n(" 查看详情 ")],-1)),a.status==="processing"?(o(),d("button",us,i[4]||(i[4]=[s("i",{class:"icon-reply"},null,-1),n(" 添加回复 ")]))):b("",!0),a.status==="resolved"?(o(),d("button",fs,i[5]||(i[5]=[s("i",{class:"icon-reply"},null,-1),n(" 添加回复 ")]))):b("",!0)])])],2))),128))])]),e.value?(o(),M(W,{key:0,onClose:i[1]||(i[1]=a=>e.value=!1)})):b("",!0)],64))}}),ks=C(ms,[["__scopeId","data-v-ac0f5066"]]);export{ks as default};
