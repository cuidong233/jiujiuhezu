import{b as ve,_ as pe,a as ge}from"./BKRz7CiX.js";import{f as me,W as fe,G as ke,u as _e,h as I,r as m,B as M,g as he,X as ye,c,b as y,a as s,t as p,m as f,H as B,s as be,i as z,F as G,l as O,n as $,d as we,z as X,N as xe,Y as Se,E as k,L as Te,J as Ie,x as Ne,o as r,_ as Ce}from"./EcDhdyxl.js";import{O as Re}from"./BD1EBftG.js";import{P as Pe}from"./CEhaGLKI.js";import"./Dw_Z4xcU.js";import"./DcjaKIUg.js";import"./C0puMdAJ.js";const qe={class:"goods-detail-page"},Le={key:0,class:"loading-container"},$e={key:1,class:"error-container"},Ue={class:"error-message"},De={key:2,class:"goods-content"},Ke={key:0,class:"api-error-notice"},Ee={class:"error-notice-content"},Fe={class:"goods-detail-content"},Me={class:"goods-main-section"},Be={class:"goods-left-panel"},ze={class:"features-bar"},Ge={class:"features-list"},Oe={class:"feature-item"},Ae={class:"feature-icon"},je={class:"feature-item"},He={class:"feature-icon"},We={class:"feature-item"},Ye={class:"feature-icon"},Ve={class:"feature-item"},Je={class:"feature-icon"},Xe={class:"main-image-wrapper"},Qe={class:"main-image"},Ze={class:"thumb-list"},es=["onClick"],ss={key:1,class:"thumb-placeholder"},as={class:"goods-info-panel"},os={class:"goods-title-row"},ts={class:"goods-title"},ls={class:"goods-sold"},is={class:"goods-final-price-row"},ns={class:"goods-final-price"},rs={key:0,class:"price-period"},cs={key:1,class:"recharge-badge"},us={key:1,class:"goods-sku-row"},ds={class:"sku-direct-list"},vs=["onClick"],ps={class:"sku-option-header"},gs={class:"sku-option-name"},ms={key:0,class:"sku-option-badge"},fs={key:1,class:"sku-option-badge"},ks={class:"sku-option-price"},_s={key:0,class:"sku-option-desc"},hs={class:"sku-option-footer"},ys={key:0,class:"sku-sales"},bs={key:0,class:"selected-sku-detail"},ws={class:"sku-detail-content"},xs={class:"sku-detail-item"},Ss={class:"detail-value"},Ts={class:"sku-detail-item"},Is={class:"detail-value price"},Ns={key:0,class:"sku-detail-item"},Cs={class:"detail-value"},Rs={key:1,class:"sku-detail-item"},Ps={class:"detail-value"},qs={class:"goods-qty-row"},Ls={class:"qty-value"},$s={class:"goods-action-row"},Us={class:"fav-icon"},Ds={class:"goods-bottom-section"},Ks={class:"recommend-section"},Es={class:"recommend-list"},Fs={key:0,class:"recommend-loading"},Ms={key:1,class:"recommend-empty"},Bs=["onClick"],zs={class:"recommend-thumb"},Gs=["src","alt"],Os={class:"recommend-name"},As={class:"recommend-price"},js=900,Hs=me({__name:"[id]",setup(Ws){const Q=fe(),N=ke(),A=be(),U=ye(),b=_e(),Z=()=>A.back(),v=I(()=>Number(U.params.id)||1),g=m({success:!1,data:null,msg:""}),S=m(null),P=m(!0),D=async()=>{P.value=!0,S.value=null,console.log("ğŸ”„ å¼€å§‹è¯·æ±‚å•†å“è¯¦æƒ…, å•†å“ID:",v.value);const a=setTimeout(()=>{console.log("è¯·æ±‚è¶…æ—¶ï¼Œä½¿ç”¨é»˜è®¤æ•°æ®"),g.value={success:!0,data:{id:v.value,title:"Netflix é«˜çº§ä¼šå‘˜",price:99,description:"å…¨çƒæœ€å¤§çš„æµåª’ä½“å¹³å°"},msg:"timeout"},P.value=!1},5e3);try{const e=`/api/product/${v.value}`;console.log("è¯·æ±‚URL:",e);const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(clearTimeout(a),!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const o=await t.json();console.log("âœ… å•†å“è¯¦æƒ…è¯·æ±‚æˆåŠŸ:",o),g.value=o}catch(e){clearTimeout(a),console.error("âŒ å•†å“è¯¦æƒ…è¯·æ±‚å¤±è´¥:",e),g.value={success:!0,data:{id:v.value,title:"å•†å“åŠ è½½ä¸­",price:88,description:"å•†å“ä¿¡æ¯"},msg:"error"}}finally{P.value=!1}},j=()=>D();M(v,async(a,e)=>{console.log("ğŸ”„ è·¯ç”±å˜åŒ– - å•†å“IDä»",e,"å˜ä¸º",a),a&&a!==e&&(d.value={specifications:null,skus:[]},l.value=null,ee.value={},await D(),await J(),await V())},{immediate:!1});const n=I(()=>{if(g.value&&g.value.success&&g.value.data){const a=g.value.data;let e=a.image||a.coverImage||"/images/xiangqingzhutu1.png";return e&&!e.startsWith("http")&&!e.startsWith("/")&&(e="/"+e),e==="/images/netflix.png"&&(e="/images/xiangqingzhutu1.png"),{id:a.id,goods_code:a.goods_code,name:a.title||a.name,image:e,desc:a.description||"å•†å“æè¿°",region:"ç¾å›½/é¦™æ¸¯/å°æ¹¾",quality:"4K è¶…é«˜æ¸…",devices:"4å°åŒæ—¶åœ¨çº¿",download:"æ˜¯",prices:[{label:"æœˆä»˜",value:`Â¥${a.price||35}`},{label:"å­£ä»˜",value:`Â¥${(parseFloat(a.price)||35)*3}`},{label:"å¹´ä»˜",value:`Â¥${(parseFloat(a.price)||35)*12}`}],hot:a.status===1,price:parseFloat(a.price)||35,sales:a.sales||0,skus:a.skus?typeof a.skus=="string"?JSON.parse(a.skus):a.skus:null,deliveryRequiresReceipt:a.deliveryRequiresReceipt||!1}}return{id:v.value,name:"å•†å“åŠ è½½ä¸­...",image:"/images/xiangqingzhutu1.png",desc:"æ­£åœ¨åŠ è½½å•†å“ä¿¡æ¯ï¼Œè¯·ç¨å€™...",region:"å…¨çƒ",quality:"é«˜å“è´¨",devices:"å¤šè®¾å¤‡",download:"æ”¯æŒ",prices:[{label:"å¥—é¤",value:"Â¥--"}],hot:!1,price:0,sales:0}}),H=I(()=>{if(g.value&&g.value.success&&g.value.data){const a=g.value.data;let e=[];return Array.isArray(a.images)?e=a.images.filter(t=>!!t):Array.isArray(a.imageList)?e=a.imageList.filter(t=>!!t):(a.coverImage||a.image)&&(e=[a.coverImage||a.image]),e.length||(e=["/images/xiangqingzhutu1.png"]),e}return["/images/xiangqingzhutu1.png"]}),q=m("");M(H,a=>{q.value=a&&a.length>0?a[0]:"/images/xiangqingzhutu1.png"},{immediate:!0});const h=m(1),l=m(null),ee=m({}),d=m({specifications:null,skus:[]});M(d,a=>{console.log("ğŸ“Š productSkuså˜åŒ–äº†:",a),console.log("ğŸ“Š SKUæ•°é‡:",a.skus?a.skus.length:0)},{deep:!0,immediate:!0});const K=I(()=>!d.value.skus||d.value.skus.length===0?[]:d.value.skus.filter(a=>a.status===1&&a.stock>0).sort((a,e)=>parseFloat(a.price)-parseFloat(e.price))),W=I(()=>{var a,e,t,o;return l.value?l.value.price:((e=(a=g.value)==null?void 0:a.data)==null?void 0:e.min_sku_price)!==void 0&&((o=(t=g.value)==null?void 0:t.data)==null?void 0:o.min_sku_price)!==null?g.value.data.min_sku_price:K.value.length>0?K.value[0].price:n.value.price||"0.00"}),Y=a=>a.sku_name.includes("å¹´")?"æœ€åˆ’ç®—":a.sku_name.includes("3ä¸ªæœˆ")?"å­£åº¦ä¼˜æƒ ":"",C=m([]),E=m(!1),V=async()=>{E.value=!0;try{const a=Se(),e=await fetch(`${a.public.apiBase}/product/goods?page=1&limit=10&isRecommend=true`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();if(t.code===0&&t.data){const o=t.data.list||t.data.records||t.data||[],i=Number(v.value);console.log("å½“å‰å•†å“ID:",i),console.log("æ‰€æœ‰å•†å“:",o.map(u=>({id:u.goodsId||u.id,name:u.name||u.title})));const _=o.filter(u=>{const T=Number(u.goodsId||u.id);return T!==i&&!isNaN(T)}).slice(0,4).map(u=>({id:u.goodsId||u.id,name:u.name||u.title||"å•†å“",price:u.price?`ï¿¥${u.price}${u.duration?"/"+u.duration:""}`:"ï¿¥0",image:u.image||u.coverImage||"/images/netflix.png"}));console.log("è¿‡æ»¤åçš„æ¨èå•†å“:",_),C.value=_.length>0?_:[{id:i===101?102:101,name:"Netflix",price:"ï¿¥35/æœˆ",image:"/images/netflix.png"},{id:i===102?103:102,name:"Disney+",price:"ï¿¥199/å¹´",image:"/images/netflix.png"},{id:i===103?104:103,name:"YouTube Premium",price:"ï¿¥240/å¹´",image:"/images/netflix.png"},{id:i===104?105:104,name:"HBO Max",price:"ï¿¥189/å¹´",image:"/images/netflix.png"}].filter(u=>u.id!==i)}else{const o=Number(v.value);C.value=[{id:o===101?102:101,name:"Netflix",price:"ï¿¥35/æœˆ",image:"/images/netflix.png"},{id:o===102?103:102,name:"Disney+",price:"ï¿¥199/å¹´",image:"/images/netflix.png"},{id:o===103?104:103,name:"YouTube Premium",price:"ï¿¥240/å¹´",image:"/images/netflix.png"},{id:o===104?105:104,name:"HBO Max",price:"ï¿¥189/å¹´",image:"/images/netflix.png"}].filter(i=>i.id!==o)}}catch(a){console.error("è·å–æ¨èå•†å“å¤±è´¥:",a);const e=Number(v.value);C.value=[{id:e===101?102:101,name:"Netflix",price:"ï¿¥35/æœˆ",image:"/images/netflix.png"},{id:e===102?103:102,name:"Disney+",price:"ï¿¥199/å¹´",image:"/images/netflix.png"},{id:e===103?104:103,name:"YouTube Premium",price:"ï¿¥240/å¹´",image:"/images/netflix.png"},{id:e===104?105:104,name:"HBO Max",price:"ï¿¥189/å¹´",image:"/images/netflix.png"}].filter(t=>t.id!==e)}finally{E.value=!1}},se=a=>{a.id&&A.push(`/goods/${a.id}`)},R=m(!1),w=m({}),F=m(!1),x=m({orderId:"",amount:0,payType:"alipay",productName:"",productType:""});function ae(){R.value=!1}function oe(){F.value=!1}function te(){R.value=!1}function le(a){var t,o;console.log("ğŸ’° å•†å“è¯¦æƒ…é¡µæ”¯ä»˜æˆåŠŸï¼",a),R.value=!1;const e=n.value.deliveryRequiresReceipt||n.value.isProxyRecharge||((t=n.value.name)==null?void 0:t.includes("ä»£å……"))||((o=n.value.name)==null?void 0:o.includes("å……å€¼"));x.value={orderId:a.orderId||w.value.orderId,amount:a.amount||W.value,payType:a.payType||"alipay",productName:n.value.name,productType:e?"recharge":"normal"},console.log("ğŸ“¦ æ”¯ä»˜æˆåŠŸè®¢å•ä¿¡æ¯:",x.value),console.log("ğŸ¯ æ˜¯å¦ä¸ºä»£å……å•†å“:",e),F.value=!0}async function ie(){var e,t;if(!b.isLoggedIn){console.log("âŒ ç”¨æˆ·æœªç™»å½•ï¼Œæ˜¾ç¤ºç™»å½•å¼¹çª—"),k.warning("è¯·å…ˆç™»å½•åå†è´­ä¹°"),N.showLogin=!0;return}if(!(n.value.deliveryRequiresReceipt===!0)&&d.value.skus&&d.value.skus.length>0&&!l.value){k.warning("è¯·å…ˆé€‰æ‹©å¥—é¤");return}if(l.value&&l.value.stock<=0){k.error("æŠ±æ­‰ï¼Œè¯¥å¥—é¤æš‚æ—¶ç¼ºè´§ï¼Œè¯·è”ç³»å®¢æœæˆ–é€‰æ‹©å…¶ä»–å¥—é¤");return}try{console.log("ğŸ›ï¸ å•†å“ä¿¡æ¯:",n.value),console.log("ğŸ”‘ å•†å“ç¼–ç å­—æ®µ:",{goods_code:n.value.goods_code,code:n.value.code,id:v.value});const o={unicode:String(v.value),skuId:((e=l.value)==null?void 0:e.sku_id)||null,quantity:h.value,userEmail:((t=b.user)==null?void 0:t.email)||"",paymentMethod:null,remark:l.value?`è§„æ ¼: ${l.value.sku_name}`:""};console.log("ğŸ“¤ åˆ›å»ºè®¢å•å‚æ•°:",o);const i=await Te.createOrder(o);if(!i.success||!i.data){k.error("åˆ›å»ºè®¢å•å¤±è´¥");return}const _=i.data.orderNo;w.value={shopLogo:n.value.image||"/images/xiangqingzhutu1.png",shopName:i.data.productName||n.value.name||"å•†å“",shopDesc:l.value?l.value.sku_description:n.value.desc||"",orderId:_,price:i.data.totalAmount||(l.value?l.value.price:n.value.price)||99},R.value=!0}catch(o){console.error("åˆ›å»ºè®¢å•å¤±è´¥:",o),k.error("åˆ›å»ºè®¢å•å¤±è´¥ï¼Œè¯·é‡è¯•")}}const J=async()=>{try{const a=v.value;console.log("ğŸ” å¼€å§‹è·å–å•†å“SKU - å•†å“ID:",a),d.value={specifications:null,skus:[]},l.value=null;const e=`/api/product/goods/${a}/skus`;console.log("ğŸ” è¯·æ±‚SKU URL:",e);const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const o=await t.json();if(console.log("âœ… SKUæ•°æ®è¯·æ±‚æˆåŠŸ:",o),o&&(o.success||o.code===0)){const i=o.data||{},_=i.skus||[];console.log("ğŸ“¦ åŸå§‹SKUæ•°é‡:",_.length),d.value={specifications:i.specifications||null,skus:_},await Ie(),console.log("ğŸ¯ è®¾ç½®åçš„SKUæ•°æ®:",{specifications:d.value.specifications,skuCount:d.value.skus.length,skus:d.value.skus});const u=d.value.skus.filter(T=>T.status===1);u.length>0?(u.sort((T,de)=>parseFloat(T.price)-parseFloat(de.price)),l.value=u[0],console.log("âœ… è‡ªåŠ¨é€‰ä¸­SKU:",l.value.sku_name)):console.log("âš ï¸ æ²¡æœ‰å¯ç”¨çš„SKUï¼ˆåº“å­˜ä¸è¶³æˆ–å·²ä¸‹æ¶ï¼‰")}else console.warn("âš ï¸ SKUæ•°æ®è¿”å›æ ¼å¼å¼‚å¸¸:",o),d.value={specifications:null,skus:[]}}catch(a){console.error("âŒ è·å–SKUä¿¡æ¯å¤±è´¥:",a),d.value={specifications:null,skus:[]},l.value=null}},ne=a=>{l.value=a,console.log("é€‰ä¸­çš„SKU:",a)},re=()=>{k.warning("è¯¥å¥—é¤æš‚æ—¶ç¼ºè´§ï¼Œè¯·é€‰æ‹©å…¶ä»–å¥—é¤æˆ–è”ç³»å®¢æœ")},ce=async a=>{if(!b.isLoggedIn){console.log("âŒ ç”¨æˆ·æœªç™»å½•ï¼Œæ˜¾ç¤ºç™»å½•å¼¹çª—"),k.warning("è¯·å…ˆç™»å½•åå†åŠ å…¥è´­ç‰©è½¦"),N.showLogin=!0;return}if(!(n.value.deliveryRequiresReceipt===!0)&&!l.value&&d.value.skus&&d.value.skus.length>0){k.warning("è¯·å…ˆé€‰æ‹©å¥—é¤");return}if(l.value&&l.value.stock<=0){k.error("æŠ±æ­‰ï¼Œè¯¥å¥—é¤æš‚æ—¶ç¼ºè´§ï¼Œè¯·è”ç³»å®¢æœæˆ–é€‰æ‹©å…¶ä»–å¥—é¤");return}try{let t=null,o=null;l.value&&(t=l.value.sku_name,o=l.value.price);const i=await Ne.addToCart(v.value,h.value,t,o);i&&i.success?(Q.addToCart({id:v.value,name:n.value.name,image:n.value.image,price:o||n.value.price||899,skuName:t,spec:t||"é»˜è®¤è§„æ ¼"},h.value),k.success("å·²åŠ å…¥è´­ç‰©è½¦")):k.error("æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥")}catch(t){console.error("æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥:",t),k.error("æ·»åŠ åˆ°è´­ç‰©è½¦å¤±è´¥")}if(a&&a.target){const t=a.target;t.classList.remove("shake"),t.offsetWidth,t.classList.add("shake"),t.addEventListener("animationend",()=>{t.classList.remove("shake")},{once:!0})}},L=I(()=>b.checkIsFavorite(v.value)),ue=async()=>{if(!b.isLoggedIn){N.showLogin=!0;return}if(L.value)(await b.removeFromFavorites(v.value)).success&&console.log("å–æ¶ˆæ”¶è—æˆåŠŸ");else{const a=await b.addToFavorites(n.value);a.success?console.log("æ·»åŠ æ”¶è—æˆåŠŸ"):console.log(a.message)}};return he(async()=>{if(console.log("ğŸš€ å•†å“è¯¦æƒ…é¡µåˆå§‹åŒ– - å•†å“ID:",v.value),console.log("ğŸ“ è·¯ç”±å‚æ•°:",U.params),console.log("ğŸ“ å½“å‰è·¯ç”±:",U.path),console.log("ğŸ“ å®Œæ•´URL:",window.location.href),!v.value||isNaN(Number(v.value))){console.error("âŒ æ— æ•ˆçš„å•†å“ID:",v.value);return}await D(),console.log("ğŸ”„ å¼€å§‹è·å–SKUä¿¡æ¯..."),await J(),await V(),S.value&&console.error("å•†å“è¯¦æƒ…APIè°ƒç”¨å¤±è´¥:",S.value),g.value&&console.log("å•†å“è¯¦æƒ…APIè¿”å›æ•°æ®:",g.value),console.log("ğŸ“Š æœ€ç»ˆSKUæ•°æ®çŠ¶æ€:"),console.log("- productSkus.value:",d.value),console.log("- availableSkus.value:",K.value),console.log("- selectedSku.value:",l.value)}),(a,e)=>{const t=ve;return r(),c("div",qe,[y(pe),P.value?(r(),c("div",Le,e[7]||(e[7]=[s("div",{class:"loading-spinner"},"åŠ è½½ä¸­...",-1)]))):S.value?(r(),c("div",$e,[s("div",Ue,[e[8]||(e[8]=s("h3",null,"åŠ è½½å¤±è´¥",-1)),s("p",null,p(S.value.message||"å•†å“ä¿¡æ¯åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"),1),s("button",{onClick:e[0]||(e[0]=()=>j()),class:"retry-btn"},"é‡æ–°åŠ è½½")])])):(r(),c("div",De,[s("div",{class:"back-btn-row"},[s("button",{class:"back-btn",onClick:Z},e[9]||(e[9]=[z('<span class="back-btn-icon" data-v-e2d3fcb8><svg width="32" height="32" viewBox="0 0 32 32" fill="none" data-v-e2d3fcb8><circle cx="16" cy="16" r="15" stroke="#2563EB" stroke-width="2" fill="#fff" data-v-e2d3fcb8></circle><path d="M18.5 10L13 16L18.5 22" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-e2d3fcb8></path></svg></span><span class="back-btn-text" data-v-e2d3fcb8>è¿”å›</span>',2)]))]),S.value?(r(),c("div",Ke,[s("div",Ee,[e[10]||(e[10]=s("span",{class:"error-icon"},"âš ï¸",-1)),e[11]||(e[11]=s("span",{class:"error-text"},"APIè¿æ¥å¤±è´¥ï¼Œæ˜¾ç¤ºé»˜è®¤å•†å“ä¿¡æ¯",-1)),s("button",{onClick:e[1]||(e[1]=()=>j()),class:"retry-small-btn"},"é‡è¯•")])])):f("",!0),s("div",Fe,[s("div",Me,[s("div",Be,[s("div",ze,[s("div",Ge,[s("div",Oe,[s("span",Ae,[y(t,{src:"/images/xiangqing1.png",alt:"å‡¡å›¾æ‹‰ä¸“ä¸šæŠ€æœ¯å›¢é˜Ÿ - 7x24å°æ—¶æŠ€æœ¯æ”¯æŒä¿éšœ",title:"ä¸“ä¸šæŠ€æœ¯å›¢é˜Ÿæ”¯æŒ",width:48,height:48,preset:"icon"})]),e[12]||(e[12]=s("span",{class:"feature-label"},"å¤§å›¢é˜Ÿå¼€å‘",-1))]),s("div",je,[s("span",He,[y(t,{src:"/images/xiangqing2.png",alt:"å‡¡å›¾æ‹‰äººå·¥å®¢æœ - ä¸€å¯¹ä¸€ä¸“ä¸šæœåŠ¡æ”¯æŒ",title:"äººå·¥å®¢æœåœ¨çº¿æ”¯æŒ",width:48,height:48,preset:"icon"})]),e[13]||(e[13]=s("span",{class:"feature-label"},"äººå·¥å®¢æœæœåŠ¡",-1))]),s("div",We,[s("span",Ye,[y(t,{src:"/images/xiangqing3.png",alt:"å‡¡å›¾æ‹‰å®‰å…¨ä¿éšœ - æ­£å“ä¿è¯å¯ä¿¡èµ–å¹³å°",title:"å®‰å…¨å¯ä¿¡èµ–çš„å¤§å¹³å°",width:48,height:48,preset:"icon"})]),e[14]||(e[14]=s("span",{class:"feature-label"},"å¤§å¹³å°æ›´æ”¾å¿ƒ",-1))]),s("div",Ve,[s("span",Je,[y(t,{src:"/images/xiangqing4.png",alt:"å‡¡å›¾æ‹‰å…¨ç½‘è¦†ç›– - æé€Ÿå‘è´§å…¨çƒæœåŠ¡",title:"å…¨ç½‘çŸ©é˜µæœåŠ¡",width:48,height:48,preset:"icon"})]),e[15]||(e[15]=s("span",{class:"feature-label"},"å…¨ç½‘çŸ©é˜µ",-1))])])]),s("div",Xe,[s("div",Qe,[y(t,{src:q.value||"/images/xiangqingzhutu1.png",alt:`${n.value.name||"å•†å“"} - é«˜æ¸…äº§å“å±•ç¤ºå›¾ - å‡¡å›¾æ‹‰æ­£å“`,title:`æŸ¥çœ‹${n.value.name||"å•†å“"}å¤§å›¾`,"product-name":n.value.name,category:n.value.category,"seo-keywords":["Netflix","æµåª’ä½“","4Ké«˜æ¸…","æ­£å“ä¿è¯"],width:600,height:600,loading:"eager",preset:"productMain",class:"main-product-image"},null,8,["src","alt","title","product-name","category"])]),s("div",Ze,[(r(!0),c(G,null,O(H.value,(o,i)=>(r(),c("div",{key:i,class:$(["thumb",{active:q.value===o}]),onClick:_=>o&&(q.value=o)},[o?(r(),B(t,{key:0,src:o,alt:`${n.value.name||"å•†å“"}ç¼©ç•¥å›¾ ${i+1}`,title:`ç‚¹å‡»æŸ¥çœ‹å›¾ç‰‡ ${i+1}`,width:100,height:100,preset:"productThumb",class:"thumb-img"},null,8,["src","alt","title"])):(r(),c("div",ss))],10,es))),128))])]),e[16]||(e[16]=z('<div class="service-bar" data-v-e2d3fcb8><div class="service-list" data-v-e2d3fcb8><span class="service-item" data-v-e2d3fcb8>å®˜æ–¹é‡‡è´­ãƒ»æ­£å“ä¿éšœ</span><span class="service-item" data-v-e2d3fcb8>å…¨ç¨‹è´¨ä¿ãƒ»æ— å¿§å”®å</span><span class="service-item" data-v-e2d3fcb8>å¤§å¹³å°æ›´æ”¾å¿ƒ</span><span class="service-item" data-v-e2d3fcb8>å…¨ç½‘çŸ©é˜µãƒ»æé€Ÿå‘è´§</span><span class="service-item" data-v-e2d3fcb8>7å¤©æ— ç†ç”±é€€æ¢</span><span class="service-item" data-v-e2d3fcb8>å‡ä¸€èµ”å</span></div></div>',1))]),s("div",as,[s("div",os,[s("span",ts,p(n.value.name),1),s("span",ls,"å·²å”®"+p(n.value.sales||"150354"),1)]),e[35]||(e[35]=z('<div class="market-bar" data-v-e2d3fcb8>ä¹°äº†è½¦ç¥¨æ²¡è´¦å·çš„ï¼Ÿ</div><div class="goods-meta-row" data-v-e2d3fcb8><span class="goods-rating" data-v-e2d3fcb8>4.9 <span class="meta-light" data-v-e2d3fcb8>(1280æ¡è¯„ä»·)</span></span><span class="meta-light" data-v-e2d3fcb8>å…¨çƒè§£é”</span><span class="meta-light" data-v-e2d3fcb8>4Ké«˜æ¸…</span></div>',2)),s("div",is,[e[17]||(e[17]=s("div",{class:"row-label-bar"},[s("span",{class:"blue-bar"}),s("span",{class:"goods-price-label"},"ä»·æ ¼")],-1)),s("span",ns,"ï¿¥"+p(W.value),1),l.value&&l.value.expire_days?(r(),c("span",rs,"/ "+p(l.value.expire_days)+"å¤©",1)):f("",!0),n.value.deliveryRequiresReceipt?(r(),c("span",cs,"ä»£å……å•†å“")):f("",!0)]),f("",!0),!n.value.deliveryRequiresReceipt&&d.value.skus&&d.value.skus.length>0?(r(),c("div",us,[e[30]||(e[30]=s("div",{class:"row-label-bar"},[s("span",{class:"blue-bar"}),s("span",{class:"goods-sku-label"},"é€‰æ‹©å¥—é¤")],-1)),s("div",ds,[(r(!0),c(G,null,O(d.value.skus.filter(o=>o.status===1),o=>{var i;return r(),c("div",{key:o.sku_id,class:$(["sku-option-card",{active:((i=l.value)==null?void 0:i.sku_id)===o.sku_id,"out-of-stock":o.stock<=0}]),onClick:_=>o.stock>0?ne(o):re()},[s("div",ps,[s("span",gs,p(o.sku_name),1),o.stock<=0?(r(),c("span",ms,"ç¼ºè´§")):Y(o)?(r(),c("span",fs,p(Y(o)),1)):f("",!0)]),s("div",ks,"ï¿¥"+p(o.price),1),o.sku_description?(r(),c("div",_s,p(o.sku_description),1)):f("",!0),s("div",hs,[s("span",{class:$(["sku-stock",{"no-stock":o.stock<=0}])}," åº“å­˜: "+p(o.stock>0?o.stock+"ä»¶":"ç¼ºè´§"),3),o.sales>0?(r(),c("span",ys,"å·²å”®: "+p(o.sales)+"ä»¶",1)):f("",!0)])],10,vs)}),128))]),l.value?(r(),c("div",bs,[e[29]||(e[29]=s("div",{class:"sku-detail-title"},"å½“å‰é€‰æ‹©",-1)),s("div",ws,[s("div",xs,[e[25]||(e[25]=s("span",{class:"detail-label"},"å¥—é¤åç§°ï¼š",-1)),s("span",Ss,p(l.value.sku_name),1)]),s("div",Ts,[e[26]||(e[26]=s("span",{class:"detail-label"},"å¥—é¤ä»·æ ¼ï¼š",-1)),s("span",Is,"ï¿¥"+p(l.value.price),1)]),l.value.expire_days?(r(),c("div",Ns,[e[27]||(e[27]=s("span",{class:"detail-label"},"æœ‰æ•ˆæœŸé™ï¼š",-1)),s("span",Cs,p(l.value.expire_days)+"å¤©",1)])):f("",!0),l.value.license_count&&l.value.license_count>1?(r(),c("div",Rs,[e[28]||(e[28]=s("span",{class:"detail-label"},"è®¾å¤‡æ•°é‡ï¼š",-1)),s("span",Ps,p(l.value.license_count)+"å°è®¾å¤‡",1)])):f("",!0)])])):f("",!0)])):f("",!0),s("div",qs,[e[31]||(e[31]=s("div",{class:"row-label-bar"},[s("span",{class:"blue-bar"}),s("span",{class:"goods-qty-label"},"è´­ä¹°æ•°é‡")],-1)),s("button",{class:"qty-btn",onClick:e[2]||(e[2]=o=>h.value=Math.max(1,h.value-1))},"-"),s("span",Ls,p(h.value),1),s("button",{class:"qty-btn",onClick:e[3]||(e[3]=o=>h.value=h.value+1)},"+")]),s("div",$s,[s("button",{class:"buy-btn",onClick:ie},"ç«‹å³è´­ä¹°"),s("button",{class:"cart-btn",onClick:e[4]||(e[4]=o=>ce(o))},"åŠ å…¥è´­ç‰©è½¦"),s("button",{class:$(["fav-btn",{active:L.value}]),onClick:ue},[s("span",Us,p(L.value?"â™¥":"â™¡"),1),we(" "+p(L.value?"å·²æ”¶è—":"æ”¶è—"),1)],2)]),e[36]||(e[36]=s("div",{class:"goods-disclaimer"}," æœ¬ç«™æ‰€å±•ç¤ºçš„æ‰€æœ‰å¾½æ ‡ï½¤å•†æ ‡åŠç›¸å…³è¯†åˆ«æ ‡å¿—å‡å½’å„â¾ƒæƒåˆ©â¼ˆæ‰€æœ‰ï¼Œç‰ˆæƒå½’åŸå…¬å¸åŠå…¶é™„å±æœºæ„æ‰€æœ‰ ",-1)),s("div",Ds,[s("div",Ks,[e[34]||(e[34]=s("div",{class:"row-label-bar"},[s("span",{class:"blue-bar"}),s("span",{class:"recommend-title"},"æ¨èæ­é…")],-1)),s("div",Es,[E.value?(r(),c("div",Fs,e[32]||(e[32]=[s("span",null,"åŠ è½½æ¨èå•†å“ä¸­...",-1)]))):C.value.length===0?(r(),c("div",Ms,e[33]||(e[33]=[s("span",null,"æš‚æ— æ¨èå•†å“",-1)]))):(r(!0),c(G,{key:2},O(C.value,o=>(r(),c("div",{class:"recommend-item",key:o.id||o.name,onClick:i=>se(o),style:{cursor:"pointer"}},[s("div",zs,[o.image?(r(),c("img",{key:0,src:o.image,alt:o.name,style:{width:"100%",height:"100%","object-fit":"cover","border-radius":"8px"},onError:e[5]||(e[5]=i=>{i.target.style.display="none"})},null,40,Gs)):f("",!0)]),s("div",Os,p(o.name),1),s("div",As,p(o.price),1)],8,Bs))),128))])])])])])]),e[37]||(e[37]=s("div",{class:"super-detail-image"},[s("div",{class:"super-detail-content"},"å•†å“è¯¦æƒ…")],-1)),y(ge),y(xe,{visible:X(N).showLogin,onClose:e[6]||(e[6]=o=>X(N).closeLogin())},null,8,["visible"]),R.value?(r(),B(Re,{key:1,shopLogo:w.value.shopLogo,shopName:w.value.shopName,shopDesc:w.value.shopDesc,orderId:w.value.orderId,price:w.value.price,countdown:js,onClose:ae,onTimeout:te,onPaySuccess:le},null,8,["shopLogo","shopName","shopDesc","orderId","price"])):f("",!0),F.value?(r(),B(Pe,{key:2,orderId:x.value.orderId,amount:x.value.amount,payType:x.value.payType,productName:x.value.productName,productType:x.value.productType,onClose:oe},null,8,["orderId","amount","payType","productName","productType"])):f("",!0)]))])}}}),sa=Ce(Hs,[["__scopeId","data-v-e2d3fcb8"]]);export{sa as default};
