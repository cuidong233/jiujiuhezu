# Railway 环境变量配置示例
# 在 Railway Dashboard 中配置这些环境变量

# ============ 基础配置 ============
NODE_ENV=production
PORT=3000

# ============ 数据库配置 ============
# Railway MySQL 会自动注入以下变量
# 使用 Railway 提供的引用语法
DB_HOST=${{MySQL.MYSQL_HOST}}
DB_PORT=${{MySQL.MYSQL_PORT}}
DB_USER=${{MySQL.MYSQL_USER}}
DB_PASSWORD=${{MySQL.MYSQL_PASSWORD}}
DB_DATABASE=${{MySQL.MYSQL_DATABASE}}

# 或使用外部数据库（如 Aiven、PlanetScale）
# DB_HOST=your-database-host.aivencloud.com
# DB_PORT=26257
# DB_USER=avnadmin
# DB_PASSWORD=your-password
# DB_DATABASE=defaultdb

# ============ JWT 配置 ============
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ============ 支付宝配置 ============
ALIPAY_APP_ID=
ALIPAY_PRIVATE_KEY=
ALIPAY_PUBLIC_KEY=
ALIPAY_GATEWAY=https://openapi.alipay.com/gateway.do
ALIPAY_NOTIFY_URL=https://your-app.railway.app/api/payment/alipay/notify
ALIPAY_RETURN_URL=https://your-frontend.vercel.app/payment/success

# ============ 微信支付配置 ============
WECHAT_APP_ID=
WECHAT_MCH_ID=
WECHAT_API_KEY=
WECHAT_API_V3_KEY=
WECHAT_SERIAL_NO=
WECHAT_PRIVATE_KEY_PATH=./src/certs/apiclient_key.pem
WECHAT_NOTIFY_URL=https://your-app.railway.app/api/payment/wechat/notify

# ============ 邮件服务配置（Brevo） ============
BREVO_API_KEY=
BREVO_SENDER_EMAIL=noreply@yourdomain.com
BREVO_SENDER_NAME=Your Company

# 或使用 SMTP
SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@yourdomain.com

# ============ 文件上传配置 ============
UPLOAD_DIR=/app/backend-api/public/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp

# ============ 跨域配置 ============
FRONTEND_URL=https://your-frontend.vercel.app
ADMIN_URL=https://your-admin.vercel.app
CORS_ORIGINS=https://your-frontend.vercel.app,https://your-admin.vercel.app

# ============ Redis 配置（可选） ============
# REDIS_URL=${{Redis.REDIS_URL}}
# REDIS_HOST=${{Redis.REDIS_HOST}}
# REDIS_PORT=${{Redis.REDIS_PORT}}
# REDIS_PASSWORD=${{Redis.REDIS_PASSWORD}}

# ============ 日志配置 ============
LOG_LEVEL=info
LOG_FILE=/app/backend-api/logs/app.log

# ============ 安全配置 ============
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100
BCRYPT_ROUNDS=10

# ============ CDN 配置（可选） ============
# CDN_URL=https://cdn.yourdomain.com
# STATIC_ASSETS_URL=https://static.yourdomain.com

# ============ 监控配置（可选） ============
# SENTRY_DSN=
# NEW_RELIC_LICENSE_KEY=

# ============ 定时任务配置 ============
ENABLE_SCHEDULED_TASKS=true
ORDER_AUTO_CANCEL_MINUTES=30
CDK_AUTO_RELEASE_CHECK_INTERVAL=300000